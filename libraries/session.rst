=================
Session 底层类
=================


+-------------+--------------+
|属性         |值            |
+=============+==============+
|命名空间     |fize\\session |
+-------------+--------------+
|类名         |Session       |
+-------------+--------------+


:方法:


+----------------------+--------------------------------------------------------------+
|方法名                |说明                                                          |
+======================+==============================================================+
|`__construct()`_      |初始化                                                        |
+----------------------+--------------------------------------------------------------+
|`abort()`_            |丢弃会话数组更改并完成会话                                    |
+----------------------+--------------------------------------------------------------+
|`cacheExpire()`_      |读取或设置当前缓存的到期时间,以分钟为单位                     |
+----------------------+--------------------------------------------------------------+
|`cacheLimiter()`_     |读取或设置缓存限制器                                          |
+----------------------+--------------------------------------------------------------+
|`createId()`_         |创建新会话 ID                                                 |
+----------------------+--------------------------------------------------------------+
|`decode()`_           |解码会话数据                                                  |
+----------------------+--------------------------------------------------------------+
|`destroy()`_          |销毁当前会话中的全部数据                                      |
+----------------------+--------------------------------------------------------------+
|`encode()`_           |将当前会话数据编码为一个字符串                                |
+----------------------+--------------------------------------------------------------+
|`gc()`_               |执行会话数据垃圾收集                                          |
+----------------------+--------------------------------------------------------------+
|`getCookieParams()`_  |获取当前会话 cookie 参数                                      |
+----------------------+--------------------------------------------------------------+
|`id()`_               |获取当前会话 ID                                               |
+----------------------+--------------------------------------------------------------+
|`moduleName()`_       |获取或设置当前会话模块名称                                    |
+----------------------+--------------------------------------------------------------+
|`name()`_             |读取或设置会话名称                                            |
+----------------------+--------------------------------------------------------------+
|`regenerateId()`_     |使用新生成的会话 ID 更新现有会话 ID                           |
+----------------------+--------------------------------------------------------------+
|`registerShutdown()`_ |注册关闭会话                                                  |
+----------------------+--------------------------------------------------------------+
|`reset()`_            |初始化当前会话与原始值数组                                    |
+----------------------+--------------------------------------------------------------+
|`savePath()`_         |读取或设置当前会话的保存路径                                  |
+----------------------+--------------------------------------------------------------+
|`setCookieParams()`_  |设置会话 cookie 参数                                          |
+----------------------+--------------------------------------------------------------+
|`setSaveHandler()`_   |设置用户自定义会话存储函数                                    |
+----------------------+--------------------------------------------------------------+
|`start()`_            |启动新会话或者重用现有会话                                    |
+----------------------+--------------------------------------------------------------+
|`status()`_           |获取当前会话状态                                              |
+----------------------+--------------------------------------------------------------+
|`unset()`_            |释放所有的会话变量                                            |
+----------------------+--------------------------------------------------------------+
|`writeClose()`_       |保存会话数据并结束会话                                        |
+----------------------+--------------------------------------------------------------+


方法
======
__construct()
-------------
初始化

.. code-block:: php

  public function __construct (
      array $config = []
  )


:参数:
  +-------+-------+
  |名称   |说明   |
  +=======+=======+
  |config |配置   |
  +-------+-------+
  
  


::

    通过调用该构造方法可以进行 session 的初始化


abort()
-------
丢弃会话数组更改并完成会话

.. code-block:: php

  public static function abort () : bool



cacheExpire()
-------------
读取或设置当前缓存的到期时间,以分钟为单位

.. code-block:: php

  public static function cacheExpire (
      int $new_cache_expire = null
  ) : int


:参数:
  +-----------------+-------------------------+
  |名称             |说明                     |
  +=================+=========================+
  |new_cache_expire |设置缓存到期时间         |
  +-----------------+-------------------------+
  
  


cacheLimiter()
--------------
读取或设置缓存限制器

.. code-block:: php

  public static function cacheLimiter (
      string $cache_limiter = null
  ) : string


:参数:
  +--------------+----------------------+
  |名称          |说明                  |
  +==============+======================+
  |cache_limiter |缓存限制器的值        |
  +--------------+----------------------+
  
  


createId()
----------
创建新会话 ID

.. code-block:: php

  public static function createId (
      string $prefix = null
  ) : string


:参数:
  +-------+-------------+
  |名称   |说明         |
  +=======+=============+
  |prefix |指定前缀     |
  +-------+-------------+
  
  


decode()
--------
解码会话数据

.. code-block:: php

  public static function decode (
      string $data
  ) : bool


:参数:
  +-------+-------------------+
  |名称   |说明               |
  +=======+===================+
  |data   |编码后的数据       |
  +-------+-------------------+
  
  


destroy()
---------
销毁当前会话中的全部数据

.. code-block:: php

  public static function destroy () : bool



encode()
--------
将当前会话数据编码为一个字符串

.. code-block:: php

  public static function encode () : string



gc()
----
执行会话数据垃圾收集

.. code-block:: php

  public static function gc () : int


:返回值:
  返回回收的会话个数


getCookieParams()
-----------------
获取当前会话 cookie 参数

.. code-block:: php

  public static function getCookieParams () : array



id()
----
获取当前会话 ID

.. code-block:: php

  public static function id () : string



moduleName()
------------
获取或设置当前会话模块名称

.. code-block:: php

  public static function moduleName (
      string $module = null
  ) : string


:参数:
  +-------+-------------------+
  |名称   |说明               |
  +=======+===================+
  |module |会话模块名称       |
  +-------+-------------------+
  
  


name()
------
读取或设置会话名称

.. code-block:: php

  public static function name (
      string $name = null
  ) : string


:参数:
  +-------+-------------+
  |名称   |说明         |
  +=======+=============+
  |name   |会话名称     |
  +-------+-------------+
  
  


regenerateId()
--------------
使用新生成的会话 ID 更新现有会话 ID

.. code-block:: php

  public static function regenerateId (
      bool $delete = false
  ) : bool


:参数:
  +-------+-----------------------------------+
  |名称   |说明                               |
  +=======+===================================+
  |delete |是否删除原有的session值对          |
  +-------+-----------------------------------+
  
  


registerShutdown()
------------------
注册关闭会话

.. code-block:: php

  public static function registerShutdown ()



reset()
-------
初始化当前会话与原始值数组

.. code-block:: php

  public static function reset ()



::

    使用该方法后，当前对 $_SESSION 的所有操作都将无效


savePath()
----------
读取或设置当前会话的保存路径

.. code-block:: php

  public static function savePath (
      string $path = null
  ) : string


:参数:
  +-------+-------------+
  |名称   |说明         |
  +=======+=============+
  |path   |保存路径     |
  +-------+-------------+
  
  


setCookieParams()
-----------------
设置会话 cookie 参数

.. code-block:: php

  public static function setCookieParams (
      int $lifetime,
      string $path = null,
      string $domain = null,
      bool $secure = false,
      bool $httponly = false
  ) : bool


:参数:
  +---------+--------------------------------------------+
  |名称     |说明                                        |
  +=========+============================================+
  |lifetime |Cookie 的生命周期，以秒为单位。             |
  +---------+--------------------------------------------+
  |path     |cookie 的有效路径                           |
  +---------+--------------------------------------------+
  |domain   |Cookie 的作用域                             |
  +---------+--------------------------------------------+
  |secure   |是否仅在使用安全链接时可用                  |
  +---------+--------------------------------------------+
  |httponly |是否使用 httponly 标记                      |
  +---------+--------------------------------------------+
  
  


setSaveHandler()
----------------
设置用户自定义会话存储函数

.. code-block:: php

  public static function setSaveHandler (
      \SessionHandler $handler,
      bool $register_shutdown = true
  ) : bool


:参数:
  +------------------+-------------------------+
  |名称              |说明                     |
  +==================+=========================+
  |handler           |处理器                   |
  +------------------+-------------------------+
  |register_shutdown |是否注册关闭函数         |
  +------------------+-------------------------+
  
  


start()
-------
启动新会话或者重用现有会话

.. code-block:: php

  public static function start (
      array $options = []
  ) : bool


:参数:
  +--------+-------------+
  |名称    |说明         |
  +========+=============+
  |options |会话配置     |
  +--------+-------------+
  
  


status()
--------
获取当前会话状态

.. code-block:: php

  public static function status () : int



unset()
-------
释放所有的会话变量

.. code-block:: php

  public static function unset ()



writeClose()
------------
保存会话数据并结束会话

.. code-block:: php

  public static function writeClose () : bool



